# partition-table.bin

```sh
00000000: fab8 0010 8ed0 bc00 b0b8 0000 8ed8 8ec0  ................
00000010: fbbe 007c bf00 06b9 0002 f3a4 ea21 0600  ...|.........!..
00000020: 00be be07 3804 750b 83c6 1081 fefe 0775  ....8.u........u
00000030: f3eb 16b4 02b0 01bb 007c b280 8a74 018b  .........|...t..
00000040: 4c02 cd13 ea00 7c00 00eb fe00 0000 0000  L.....|.........
00000050: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000060: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000070: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000080: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000090: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000000a0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000000b0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000000c0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000000d0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000000e0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000000f0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000100: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000110: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000120: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000130: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000140: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000150: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000160: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000170: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000180: 0000 0000 0000 0000 0000 0000 0000 0000  ................
00000190: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000001a0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000001b0: 0000 0000 0000 0000 d18f 2be7 0000 0000  ..........+.....
000001c0: 0140 0c03 e0ff 0020 0000 0000 0800 0000  .@..... ........
000001d0: 4104 833f e0e7 0020 0800 0020 1700 0000  A..?... ... ....
000001e0: 0000 0000 0000 0000 0000 0000 0000 0000  ................
000001f0: 0000 0000 0000 0000 0000 0000 0000 55aa  ..............U.
```

## エントリレコードの構造

```C
struct entry_record {
    uint8_t boot_flag;
    uint8_t[3]  first_sector_chs;
    uint8_t     pat_type;           // 0x0c: FAT32, 0x83: ext2
    uint8_t[3]  last_secto_chsr;
    uint32_t    first_sector_lba;
    uint32_t    num_of_secotors;
}
```

## エントリレコード解析

```sh
[1]: 00 000140 0c 03e0ff 00002000 00080000
[2]: 00 004104 83 3fe0e7 00082000 00172000
```


- 第1パーティション: FAT32, 0x2000, 0x80000 (256MiB)

- 第2パーティション: ext2,  0x82000, 0x172000 (740MiB)


## mkfs.ext2

```sh
mkfs.ext2 -b 4096 /dev/loop2 982016     // 0xefc00 * 0x1000 = 0xefc00000
```

### extxのパーティションエントリを変更

- 現状、0x172000となっているのを`0x77e000 = 0xefc0_0000 / 0x200`にすれば良い。 
